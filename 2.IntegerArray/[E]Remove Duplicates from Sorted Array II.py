# -*- coding: utf-8 -*-
__author__ = 'yunge'

'''
Follow up for "Remove Duplicates":
What if duplicates are allowed at most twice?

For example,
Given sorted array A = [1,1,1,2,2,3],
Your function should return length = 5, and A is now [1,1,2,2,3].
'''

def removeDuplicates(A):
    i = min(3,len(A))
    if i >= 3:
        while i:
            if i > len(A):
                break
            if A[i - 1]  ==  A[i - 2] == A[i - 3] :
                A.pop(i - 1)
                i -= 1
            else:
                i += 1
            # print(A)
    return len(A)

A = [-1014,-1014,-1014,-1006,-1005,-1004,-1002,-1001,-1000,-999,-999,-998,-997,-997,-997,-996,-995,-995,-994,-993,-992,-992,-992,-992,-991,-991,-991,-990,-990,-990,-990,-990,-989,-988,-988,-987,-987,-986,-986,-985,-985,-984,-983,-982,-982,-981,-981,-980,-980,-980,-979,-978,-977,-976,-975,-974,-974,-974,-973,-972,-972,-972,-971,-971,-970,-969,-969,-968,-967,-967,-966,-966,-966,-965,-964,-964,-963,-962,-962,-961,-961,-960,-959,-959,-958,-958,-957,-957,-956,-956,-955,-954,-954,-954,-954,-954,-953,-953,-952,-951,-951,-950,-950,-949,-949,-949,-948,-948,-947,-947,-946,-945,-944,-944,-944,-943,-942,-942,-942,-942,-941,-940,-940,-939,-939,-938,-938,-938,-938,-937,-937,-936,-935,-935,-935,-935,-934,-934,-933,-933,-933,-932,-932,-932,-931,-931,-930,-930,-930,-929,-929,-928,-928,-927,-926,-926,-925,-925,-925,-924,-924,-923,-923,-922,-922,-921,-921,-920,-919,-919,-919,-919,-918,-918,-917,-916,-916,-915,-915,-914,-914,-913,-913,-912,-912,-912,-911,-910,-909,-908,-908,-907,-907,-906,-906,-905,-905,-904,-904,-903,-902,-902,-901]
print(removeDuplicates(A))